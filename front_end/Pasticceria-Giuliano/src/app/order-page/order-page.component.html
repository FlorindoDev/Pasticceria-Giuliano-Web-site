<section class="min-h-screen bg-bg text-text">
    <div
        class="max-w-7xl mx-auto px-5 sm:px-8 md:px-10 lg:px-12 py-8 md:py-12 grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-10">


        <header class="lg:col-span-2">
            <span
                class="inline-flex items-center justify-center rounded-full border border-secondary/30 bg-bgcontrast/90 px-4 py-1.5 text-xs font-semibold text-highlight shadow-sm backdrop-blur">
                I tuoi dolci passati
            </span>

            <h1
                class="mt-4 text-4xl md:text-5xl font-extrabold leading-tight tracking-tight text-transparent bg-clip-text bg-gradient-to-b from-primary to-accent">
                I miei ordini
            </h1>

            <p class="mt-3 max-w-2xl text-text/80 text-base md:text-lg">
                Rivedi gli ordini fatti, controlla lo stato di consegna e riordina in un tocco.
            </p>

            <div class="mt-6 h-px w-24 rounded-full bg-secondary/30"></div>
        </header>

        <section class="flex flex-col gap-5">


            <div id="filtro-ordini"
                class="flex flex-wrap gap-2  items-center rounded-2xl bg-bgcontrast border border-secondary/40 px-4 py-3 shadow-sm">
                <p class="text-sm text-text/60 mr-4 md:mr-auto">Filtra</p>
                <button (click)="onfilter($event,'TUTTO')"
                    class="inline-flex items-center gap-2 rounded-full bg-bg bg-primary/10 text-text/70 text-xs font-semibold px-3 py-1.5 border border-transparent hover:border-accent/50 transition">
                    Tutti
                </button>
                <button (click)="onfilter($event,'IN PREPARAZIONE')"
                    class="inline-flex items-center gap-2 rounded-full bg-bg text-text/70 text-xs font-semibold px-3 py-1.5 border border-transparent hover:border-accent/50 transition">
                    In preparazione
                </button>
                <button (click)="onfilter($event,'CONSEGNATO')"
                    class="inline-flex items-center gap-2 rounded-full bg-bg text-text/70 text-xs font-semibold px-3 py-1.5 border border-transparent hover:border-accent/50 transition">
                    Consegnati
                </button>
                <button (click)="onfilter($event,'SPEDITO')"
                    class="inline-flex items-center gap-2 rounded-full bg-bg text-text/70 text-xs font-semibold px-3 py-1.5 border border-transparent hover:border-accent/50 transition">
                    Spedito
                </button>
                <button (click)="onfilter($event,'ANNULLATO')"
                    class="inline-flex items-center gap-2 rounded-full bg-bg text-text/70 text-xs font-semibold px-3 py-1.5 border border-transparent hover:border-accent/50 transition">
                    Annullati
                </button>
            </div>

            @for(order of orders; track order){
            <order-card [ordine]=order></order-card>
            }
        </section>


        <aside
            class="lg:sticky lg:top-24 h-max rounded-2xl bg-bgcontrast border border-secondary/40 shadow-md p-6 flex flex-col gap-6">
            <div>
                <h2 class="text-primary font-semibold text-xl leading-tight">
                    Statistiche ordini
                </h2>
                <p class="text-text/70 text-sm mt-1">
                    Uno sguardo veloce ai tuoi dolci preferiti
                </p>
            </div>

            <div class="space-y-4">
                <div class="flex items-center justify-between rounded-2xl bg-bg px-3 py-3">
                    <div>
                        <p class="text-xs text-text/50">Ordini totali</p>
                        <p class="text-2xl font-extrabold text-primary leading-tight">
                            {{numeroOrdini}}
                        </p>
                    </div>

                </div>

                <div class="flex items-center justify-between rounded-2xl bg-bg px-3 py-3">
                    <div>
                        <p class="text-xs text-text/50">Spesa totale</p>
                        <p class="text-xl font-bold text-primary leading-tight">
                            {{ costoTotale | number:'1.2-2' }} â‚¬
                        </p>
                    </div>

                </div>

                <div class="flex items-center justify-between rounded-2xl bg-bg px-3 py-3">
                    <div>
                        <p class="text-xs text-text/50">Ultimo ordine</p>
                        <p class="text-sm font-semibold text-text/80 leading-tight">
                            {{ ultimoOridine | date: 'dd/MM/yyyy, HH:mm' }}
                        </p>
                    </div>

                </div>
            </div>

            <div class="h-px w-full bg-secondary/30 rounded-full"></div>

            <div
                class="rounded-xl bg-bg border border-secondary/30 p-4 text-xs text-text/80 leading-relaxed shadow-inner">
                <p class="font-semibold text-primary text-sm flex items-center gap-2">
                    <span class="text-lg">ðŸ“¦</span>
                    Hai un problema con un ordine?
                </p>
                <p class="mt-2">
                    Chiama o scrivi specificando il numero dellâ€™ordine (es. #ORD-24018).
                </p>
                <p class="font-semibold text-accent mt-1 text-sm">
                    081-588-7696
                </p>
                <p class="text-text/60 mt-2">
                    Disponibili <span class="font-medium text-text/80">08:00â€“19:00</span>.
                </p>
            </div>
        </aside>

    </div>
</section>