<nav id="burger-menu" class="fixed inset-0 z-[9999] text-text animate-slide-in
            bg-gradient-to-br from-bgcontrast to-bg
            flex flex-col justify-between">

    <!-- HEADER -->
    <div class="sticky top-0 bg-gradient-to-r from-primary to-secondary  backdrop-blur-sm
              flex items-center justify-between px-7 py-7
              border-b border-white/15 shadow-md">
        <span class="text-2xl font-extrabold tracking-widest uppercase text-bg">Menu</span>
        <button (click)="closeMenu()" aria-label="Chiudi menu" class="p-3 rounded-full text-bg hover:text-white
                   hover:bg-white/15 active:scale-95 transition">
            ✕
        </button>
    </div>


    <div class="px-7 pt-12 pb-10 flex-1 overflow-y-auto">
        <ul class="rounded-3xl bg-white/10/ [background-color:rgba(255,255,255,.06)]
               backdrop-blur-sm p-5 shadow-lg ring-1 ring-white/10 divide-y divide-white/10 space-y-0">


            <li class="group relative">
                <a routerLink="/home" (click)="closeMenu()" class="flex items-center justify-between py-5 rounded-xl px-4
                  hover:bg-white/10 transition shadow-sm hover:shadow">
                    <div class="flex items-center gap-3">
                        <!-- barra sinistra che cresce -->
                        <span class="block h-0.5 w-0 group-hover:w-8 transition-all duration-200
                         bg-current opacity-70 rounded-full"></span>
                        <span class="text-[1.35rem] leading-none font-semibold uppercase tracking-[0.08em]">
                            Home
                        </span>
                    </div>
                    <span
                        class="text-2xl opacity-70 transition-transform duration-200 group-hover:translate-x-1.5">›</span>
                </a>
            </li>

            <li class="group relative">
                <a routerLink="" fragment="chi-siamo" (click)="closeMenu()" class="flex items-center justify-between py-5 rounded-xl px-4
                  hover:bg-white/10 transition shadow-sm hover:shadow">
                    <div class="flex items-center gap-3">
                        <span class="block h-0.5 w-0 group-hover:w-8 transition-all duration-200
                         bg-current opacity-70 rounded-full"></span>
                        <span class="text-[1.35rem] leading-none font-semibold uppercase tracking-[0.08em]">
                            Chi siamo
                        </span>
                    </div>
                    <span
                        class="text-2xl opacity-70 transition-transform duration-200 group-hover:translate-x-1.5">›</span>
                </a>
            </li>

            <li class="group relative">
                <a routerLink="/assortimento" fragment="assortimento" (click)="closeMenu()" class="flex items-center justify-between py-5 rounded-xl px-4
                  hover:bg-white/10 transition shadow-sm hover:shadow">
                    <div class="flex items-center gap-3">
                        <span class="block h-0.5 w-0 group-hover:w-8 transition-all duration-200
                         bg-current opacity-70 rounded-full"></span>
                        <span class="text-[1.35rem] leading-none font-semibold uppercase tracking-[0.08em]">
                            Assortimento
                        </span>
                    </div>
                    <span
                        class="text-2xl opacity-70 transition-transform duration-200 group-hover:translate-x-1.5">›</span>
                </a>
            </li>

            <li class="group relative">
                <a routerLink="" fragment="vetrina" (click)="closeMenu()" class="flex items-center justify-between py-5 rounded-xl px-4
                  hover:bg-white/10 transition shadow-sm hover:shadow">
                    <div class="flex items-center gap-3">
                        <span class="block h-0.5 w-0 group-hover:w-8 transition-all duration-200
                         bg-current opacity-70 rounded-full"></span>
                        <span class="text-[1.35rem] leading-none font-semibold uppercase tracking-[0.08em]">
                            Vetrina
                        </span>
                    </div>
                    <span
                        class="text-2xl opacity-70 transition-transform duration-200 group-hover:translate-x-1.5">›</span>
                </a>
            </li>

            <li class="group relative">
                <a routerLink="" fragment="contatti" (click)="closeMenu()" class="flex items-center justify-between py-5 rounded-xl px-4
                  hover:bg-white/10 transition shadow-sm hover:shadow">
                    <div class="flex items-center gap-3">
                        <span class="block h-0.5 w-0 group-hover:w-8 transition-all duration-200
                         bg-current opacity-70 rounded-full"></span>
                        <span class="text-[1.35rem] leading-none font-semibold uppercase tracking-[0.08em]">
                            Contatti
                        </span>
                    </div>
                    <span
                        class="text-2xl opacity-70 transition-transform duration-200 group-hover:translate-x-1.5">›</span>
                </a>
            </li>
        </ul>
        @if(!isLogged){
        <div
            class="flex justify-center gap-6 px-7 pb-12 pt-8 bg-gradient-to-t from-bg/60 to-transparent border-t border-white/10">


            <button (click)="closeMenu(); openLogin()" class="flex-1 py-4 rounded-2xl text-center font-bold uppercase tracking-wider
               text-white shadow-2xl ring-2 ring-white/20
               bg-primary
               hover:brightness-110 hover:shadow-[0_12px_32px_rgba(0,0,0,.35)]
               active:scale-[0.98] transition">
                Login
            </button>


            <button (click)="closeMenu(); openSignup()" class="flex-1 py-4 rounded-2xl text-center font-bold uppercase tracking-wider
               text-white shadow-xl ring-2 ring-white/20
               bg-gradient-to-r from-accent to-secondary
               hover:brightness-110 hover:shadow-[0_12px_32px_rgba(0,0,0,.35)]
               active:scale-[0.98] transition">
                Registrati
            </button>
        </div>

        }@else{
        <div class="px-5 pt-6 pb-4 border-b border-secondary/20">
            <div class="flex items-center gap-3">

                <div class="grid place-items-center w-12 h-12 rounded-2xl bg-primary text-bg font-bold shrink-0">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M5.121 17.804A9.004 9.004 0 0112 15c2.21 0 4.21.804 5.879 2.13M12 12a4 4 0 100-8 4 4 0 000 8z" />
                    </svg>
                </div>


                <div class="min-w-0">
                    <p class="font-semibold truncate">{{ this.nome }}</p>
                    <details class="group relative">
                        <summary
                            class="flex items-center gap-1 text-sm text-text/70 cursor-pointer select-none list-none">
                            <span>Account</span>
                            <span class="opacity-60 transition-transform group-open:rotate-180">▾</span>
                        </summary>


                        <div
                            class="absolute left-0 mt-2 w-40 rounded-2xl border border-secondary/30 bg-bg shadow-xl p-1 z-50">
                            <a routerLink="/profilo"
                                class="block px-3 py-2 rounded-xl hover:bg-bgcontrast text-primary transition">Profilo</a>
                            <button type="button" (click)="logout()"
                                class="w-full text-left px-3 py-2 rounded-xl hover:bg-red-50 text-red-600 transition">
                                Esci
                            </button>
                        </div>
                    </details>
                </div>
            </div>
        </div>
        }


    </div>



</nav>